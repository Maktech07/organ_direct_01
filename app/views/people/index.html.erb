<h1>Listing people</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th>NameTitle</th>
      <th>Firstname</th>
      <th>Lastname</th>
      <th>Address</th>
      <th>Phone Number</th>
      <th>Email</th>
      <th>Roles</th>
      <th>Extension</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @people.each do |person| %>
      <tr>
        <td>
            <% if person.name_title != nil %>
                <%= person.name_title.title %>
            <% end %>
        </td>
        <td><%= person.firstName %></td>
        <td><%= person.lastName %></td>
        <td>
            <% if person.address != nil %>
                <%= person.address.streetInfo %>
            <% else %>
                None
            <% end %>
        </td>
        <td>
            <% if person.phone_number != nil %>
                <%= person.phone_number.number %>
            <% else %>
                None
            <% end %>
        </td>
        <td>
            <% if person.email != nil %>
                <%= person.email.email %>
            <% else %>
                None
            <% end %>
        </td>
        <td><%= person.role_types.map(&:roleName).join(', ') %></td>
        <td>
            <% if person.extension != nil %>
                <%= person.extension.ext %>
            <% end %>
        </td>
        <td>
            <div>
                <%= link_to '', person, class: "btn show-btn glyphicon glyphicon-eye-open", title: "Show" %>
                <%= link_to '', edit_person_path(person), class: "btn edit-btn glyphicon glyphicon-pencil", title: "Edit" %>
                <%= link_to '', person, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn destroy-btn glyphicon glyphicon-remove-sign", title: "Delete" %>
            </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<br>


<%= link_to '', new_person_path, class: "btn add-new-btn glyphicon glyphicon-plus" %> &nbsp; Add New Person 

